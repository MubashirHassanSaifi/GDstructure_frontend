"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r,s=require("tslib"),n=require("eslint/package.json"),t=require("eslint-mdx"),i=e(require("eslint-plugin-react/lib/rules/no-unescaped-entities")),o=e(require("eslint/lib/rules/no-unused-expressions")),a=e(require("path")),c=e(require("vfile")),u=require("cosmiconfig"),l=e(require("remark-mdx")),m=e(require("remark-parse")),p=e(require("remark-stringify")),d=e(require("unified")),f={parser:"eslint-mdx",plugins:["mdx"]},g=function(e,r){return void 0===r&&(r={}),(Array.isArray(e)?e:Object.keys(e)).reduce((function(e,r){var s;return Object.assign(e,((s={})[r]=!1,s))}),r)};try{r=require("rebass")}catch(e){r=["Box","Flex","Text","Heading","Link","Button","Image","Card"]}var x=s.__assign(s.__assign({},f),{globals:g(r,{React:!1}),rules:{"lines-between-class-members":0,"react/jsx-no-undef":[2,{allowGlobals:!0}],"react/react-in-jsx-scope":0}}),v=+n.version.split(".").slice(0,2).join("."),h=s.__assign(s.__assign({},f),{rules:{"mdx/no-jsx-html-comments":2,"mdx/no-unescaped-entities":1,"mdx/no-unused-expressions":2,"mdx/remark":1,"no-unused-expressions":0,"react/no-unescaped-entities":0}});if(v>=6.4){var _=[{files:"*.mdx",extends:"plugin:mdx/overrides"}];try{require.resolve("prettier"),require.resolve("eslint-plugin-prettier"),_.push({files:"*.md",rules:{"prettier/prettier":[2,{parser:"markdown"}]}})}catch(e){}Object.assign(h,{overrides:_})}var y,b,q=Object.freeze({__proto__:null,base:f,overrides:x,recommended:h}),k={meta:{type:"problem",docs:{description:"Forbid invalid html style comments in jsx block",category:"SyntaxError",recommended:!0},messages:{jsxHtmlComments:"html style comments are invalid in jsx: {{ origin }}"},fixable:"code",schema:[]},create:function(e){return{ExpressionStatement:function(r){var s=e.parserServices.JSXElementsWithHTMLComments;if(t.JSX_TYPES.includes(r.expression.type)&&"Program"===r.parent.type&&s&&0!==s.length){var n=s.shift();if(!n.data.inline)n.data.comments.forEach((function(s){var n=s.fixed,t=s.loc,i=s.origin;return e.report({messageId:"jsxHtmlComments",data:{origin:i},loc:t,node:r,fix:function(e){return e.replaceTextRange([t.start.offset,t.end.offset],n)}})}))}}}}},S=[{char:">",alternatives:["&gt;"]},{char:'"',alternatives:["&quot;","&ldquo;","&#34;","&rdquo;"]},{char:"'",alternatives:["&apos;","&lsquo;","&#39;","&rsquo;"]},{char:"}",alternatives:["&#125;"]}],j=s.__assign(s.__assign({},i),{create:function(e){var r,s=(e.options[0]||{}).forbid||S;return(r={})["Literal, JSXText"]=function(r){var n=r.parent;if(t.isJsxNode(n)){for(;n&&"Program"!==n.parent.type;)n=n.parent;var i=r.loc,o=i.start,a=o.line,c=o.column,u=i.end,l=u.line,m=u.column,p=e.getSourceCode().lines,d=n.loc.start.line<a?0:p.slice(a-1,l).join("\n").search(t.openTag);d<0&&(d=0);for(var f=function(n){var t=p[n-1],i=0,o=t.length;n===a&&(i=c+d),n===l&&(o=m,n===a&&(o+=d)),t=t.slice(i,o),s.forEach((function(s){for(var o=0;o<t.length;o++){var a=t[o];"string"==typeof s?a===s&&e.report({loc:{line:n,column:i+o},message:"HTML entity, `"+s+"` , must be escaped.",node:r}):a===s.char&&e.report({loc:{line:n,column:i+o},message:"`"+s.char+"` can be escaped with "+s.alternatives.map((function(e){return"``".split("").join(e)})).join(", ")+".",node:r})}}))},g=a;g<=l;g++)f(g)}},r}}),E=s.__assign(s.__assign({},o),{create:function(e){var r=o.create(e);return{ExpressionStatement:function(e){t.isJsxNode(e.expression)&&"Program"===e.parent.type||r.ExpressionStatement(e)}}}}),T=function(e,r,s){s&&/^\.\.?([/\\]|$)/.test(e)&&(e=a.resolve(a.dirname(s),e)),r=r.endsWith("-")?r:r+"-";for(var n,t=0,i=[e,e.startsWith("@")?e.replace("/","/"+r):r+e];t<i.length;t++){var o=i[t];try{return require(o)}catch(e){n||(n=e)}}throw n},O=function(e){y||(y=u.cosmiconfigSync("remark",{packageProp:"remarkConfig"}).search),b||(b=d().use(m).freeze());var r=y(e)||{},n=r.config,t=r.filepath,i=n||{},o=i.plugins,a=void 0===o?[]:o,c=i.settings;try{a.push([require.resolve("remark-lint-file-extension"),!1])}catch(e){}return a.reduce((function(e,r){var n=Array.isArray(r)?r:[r],i=n[0],o=n.slice(1);return e.use.apply(e,s.__spreadArrays(["string"==typeof i?T(i,"remark",t):i],o))}),b().use({settings:c}).use(p).use(l)).freeze()},I={meta:{type:"layout",docs:{description:"Linter integration with remark plugins",category:"Stylistic Issues",recommended:!0},messages:{remarkReport:"{{ source }}:{{ ruleId }} - {{ reason }}"},fixable:"code",schema:[]},create:function(e){var r=e.getFilename(),n=a.extname(r),i=e.getSourceCode(),o=t.DEFAULT_EXTENSIONS.concat(e.parserOptions.extensions||[],t.MARKDOWN_EXTENSIONS,e.parserOptions.markdownExtensions||[]);return{Program:function(t){if(o.includes(n)){var a=i.getText(t),u=O(r);u.processSync(c({path:r,contents:a})).messages.forEach((function(r){var n=r.source,i=r.reason,o=r.ruleId,c=r.location,l=c.start,m=c.end;return e.report({messageId:"remarkReport",data:{reason:i,source:n,ruleId:o},loc:{start:s.__assign(s.__assign({},l),{column:l.column-1}),end:s.__assign(s.__assign({},m),{column:m.column-1})},node:t,fix:function(e){if(null==l.offset)return null;var r=[l.offset,null==m.offset?l.offset+1:m.offset],s=a.slice.apply(a,r),n=u.processSync(s).toString();return e.replaceTextRange(r,s.endsWith("\n")?n:n.slice(0,-1))}})}))}}}}},P={"no-jsx-html-comments":k,"no-unescaped-entities":j,"no-unused-expressions":E,remark:I};exports.configs=q,exports.getGlobals=g,exports.getRemarkProcessor=O,exports.noJsxHtmlComments=k,exports.noUnescapedEntities=j,exports.noUnusedExpressions=E,exports.remark=I,exports.requirePkg=T,exports.rules=P;
